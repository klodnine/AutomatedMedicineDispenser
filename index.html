<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Medicine Dispenser Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="bi bi-capsule-pill"></i>
                    <span>MediDispense</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active">
                    <i class="bi bi-speedometer2"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-calendar-check"></i>
                    <span>Schedule</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-graph-up"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-gear"></i>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <h1>Medicine Dispenser</h1>
                    <p class="header-subtitle">Real-time monitoring and scheduling</p>
                </div>
                <div class="header-right">
                    <div class="status-badge">
                        <span class="status-dot"></span>
                        <span class="status-text">System Active</span>
                    </div>
                </div>
            </header>

            <!-- Dashboard Grid -->
            <main class="dashboard-grid">
                <!-- Date & Time Card -->
                <div class="dashboard-card date-time-card">
                    <div class="card-content">
                        <div class="time-display" id="timeDisplay">00:00:00</div>
                        <div class="date-display" id="dateDisplay">Loading...</div>
                    </div>
                </div>

                <!-- Temperature Card -->
                <div class="dashboard-card temperature-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="bi bi-thermometer-half"></i>
                            <span>Temperature</span>
                        </div>
                        <span class="last-updated" id="tempUpdated">--:--</span>
                    </div>
                    <div class="card-body">
                        <div class="temp-value" id="tempValue">--Â°C</div>
                        <div class="temp-status" id="tempStatus">Connecting...</div>
                        <div class="temp-chart">
                            <canvas id="tempChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Stock Level Card -->
                <div class="dashboard-card stock-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="bi bi-box-seam"></i>
                            <span>Stock Level</span>
                        </div>
                        <span class="last-updated" id="stockUpdated">--:--</span>
                    </div>
                    <div class="card-body">
                        <div class="stock-display">
                            <div class="stock-bar">
                                <div class="stock-fill" id="stockFill" style="width: 0%"></div>
                            </div>
                            <div class="stock-label" id="stockLabel">Checking...</div>
                        </div>
                        <div class="stock-details">
                            <div class="detail-item">
                                <span class="detail-label">Detected</span>
                                <span class="detail-value" id="slotsDetected">0</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Capacity</span>
                                <span class="detail-value">10</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scheduler Card -->
                <div class="dashboard-card scheduler-card full-width">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="bi bi-calendar-event"></i>
                            <span>Medicine Schedule</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="calendar-section">
                            <div class="calendar-header">
                                <button class="calendar-nav-btn" id="prevMonth">
                                    <i class="bi bi-chevron-left"></i>
                                </button>
                                <h3 id="calendarMonth">January 2024</h3>
                                <button class="calendar-nav-btn" id="nextMonth">
                                    <i class="bi bi-chevron-right"></i>
                                </button>
                            </div>
                            
                            <div class="calendar-weekdays">
                                <div class="weekday">Sun</div>
                                <div class="weekday">Mon</div>
                                <div class="weekday">Tue</div>
                                <div class="weekday">Wed</div>
                                <div class="weekday">Thu</div>
                                <div class="weekday">Fri</div>
                                <div class="weekday">Sat</div>
                            </div>
                            
                            <div class="calendar-grid" id="calendarGrid"></div>
                        </div>

                        <div class="reminder-form-section" id="reminderFormSection" style="display: none;">
                            <h3>Add Reminder for <span id="selectedDateDisplay"></span></h3>
                            <form id="reminderForm" class="reminder-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="medicineName">Medicine Name</label>
                                        <input type="text" class="form-control" id="medicineName" placeholder="e.g., Metformin" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="medicineTime">Time</label>
                                        <input type="time" class="form-control" id="medicineTime" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="medicineNote">Note</label>
                                        <input type="text" class="form-control" id="medicineNote" placeholder="e.g., after dinner">
                                    </div>
                                    <button type="submit" class="btn-add">
                                        <i class="bi bi-plus-circle"></i> Add
                                    </button>
                                    <button type="button" class="btn-cancel" id="cancelBtn">
                                        <i class="bi bi-x-circle"></i> Cancel
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Reminders List -->
                        <div class="reminders-section">
                            <h3>Upcoming Reminders</h3>
                            <div id="remindersList" class="reminders-container">
                                <p class="empty-state">No reminders scheduled yet.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Notification Area -->
    <div id="notificationArea" class="notification-area"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
